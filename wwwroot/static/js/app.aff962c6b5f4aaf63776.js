webpackJsonp([1],{IAju:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(e){n("ymcE")},null,null).exports,r=n("NYxO"),i=n("mtWM"),l=n.n(i),u=n("/ocq"),c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.email,expression:"loginUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.loginUser.email},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.password,expression:"loginUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.loginUser.password},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"password",t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Login")])]),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"string",placeholder:"username"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Register")])])])},staticRenderFns:[]};var m=n("VU/8")({name:"Login",data:function(){return{loginUser:{email:"",password:""},newUser:{name:"",email:"",password:""}}},methods:{login:function(){this.$store.dispatch("login",this.loginUser)},register:function(){this.$store.dispatch("register",this.newUser)}}},c,!1,function(e){n("IAju")},"data-v-4583abeb",null).exports,p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home"},[t("h1",[this._v("Hello "+this._s(this.user))])])},staticRenderFns:[]};var d=n("VU/8")({name:"Home",data:function(){return{}},computed:{user:function(){return this.$store.state.user}}},p,!1,function(e){n("dF4Y")},"data-v-ef2b1d34",null).exports;s.a.use(u.a);var v=new u.a({routes:[{path:"/",name:"Login",component:m},{path:"/home",name:"Home",component:d}]}),g=!window.location.host.includes("localhost")?"//something.herokuapp.com/":"//localhost:5000/",w=(l.a.create({baseURL:g+"api/",timeout:5e3,withCredentials:!0}),l.a.create({baseURL:g+"account/",timeout:5e3,withCredentials:!0}));s.a.use(r.a);var h=new r.a.Store({state:{user:{}},mutations:{setUser:function(e,t){e.user=t}},actions:{login:function(e,t){var n=e.commit;e.dispatch;w.post("login",t).then(function(e){console.log(e.data),n("setUser",e.data),v.push({name:"Home"})}).catch(function(e){console.error(e)})},register:function(e,t){e.commit;var n=e.dispatch;w.post("register",t).then(function(e){delete e.data.Id,delete e.data.Name,e.data.Password=t.password,n("login",e.data)}).catch(function(e){console.error(e)})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:v,store:h,components:{App:o},template:"<App/>"})},dF4Y:function(e,t){},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.aff962c6b5f4aaf63776.js.map